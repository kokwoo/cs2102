CREATE TABLE users  (
  userid VARCHAR(64) PRIMARY KEY,
  name VARCHAR(64) NOT NULL,
  password CHAR(64) NOT NULL,
  address VARCHAR(255) NOT NULL,
  role CHAR(5) NOT NULL CHECK (role = 'admin' OR role='users'),
  lastlogin TIMESTAMP NOT NULL
);

CREATE TABLE items (
  itemid INTEGER PRIMARY KEY,
  type VARCHAR(64) REFERENCES types(type) ON DELETE CASCADE,
  name VARCHAR(255) NOT NULL,
  price NUMERIC NOT NULL,
  avaliability INTEGER NOT NULL,
  postedon TIMESTAMP now(),
  postedby VARCHAR(64) REFERENCES users(userid)
);

CREATE TABLE types (
    type VARCHAR(64) PRIMAY KEY,
    subType VARCHAR(64) NOT NULL
);

CREATE TABLE bids {
  id INTEGER PRIMARY KEY,
  userid VARCHAR(64) REFERENCES users(userid),
  itemid INTEGER REFERENCES items(itemid),
  bidamount NUMERIC NOT NULL CHECK(bidamount >= 0),
  biddedon TIMESTAMP now(),
  status INTEGER NOT NULL
}
